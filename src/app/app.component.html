<!-- logged in -->
<div class="flex min-h-screen bg-gray-50 dark:bg-gray-900" *ngIf="isLoggedIn$ | async; else notLoggedIn">
  <app-alerts></app-alerts>
  <app-sidebar></app-sidebar>
  <div class="flex flex-col flex-1 w-full pb-6">
    <app-navbar (logout)="onLogout()" (deploy)="onDeploy()"></app-navbar>
    <router-outlet></router-outlet>
  </div>
  <app-modal id="deploy-success-modal" class="modal" style="display: none">
    <!-- Modal body -->
    <div class="mt-4 mb-6">
      <!-- Modal title -->
      <p class="mb-2 text-lg font-semibold text-gray-700 dark:text-gray-300">
        Publikace změn do panelů proběhla úspěšně!
      </p>
    </div>
    <footer
      class="
        flex flex-col
        items-center
        justify-end
        px-6
        py-3
        -mx-6
        -mb-4
        space-y-4
        sm:space-y-0 sm:space-x-6
        sm:flex-row
        bg-gray-50
        dark:bg-gray-800
      "
    >
      <button
        type="submit"
        (click)="closeModal()"
        class="
          w-full
          px-5
          py-3
          text-sm
          font-medium
          leading-5
          text-white
          transition-colors
          duration-150
          bg-purple-600
          border border-transparent
          rounded-lg
          sm:w-auto
          sm:px-4
          sm:py-2
          active:bg-purple-600
          hover:bg-purple-700
          focus:outline-none
          focus:shadow-outline-purple
        "
      >
        Ok
      </button>
    </footer>
  </app-modal>
</div>

<!-- not logged in -->
<ng-template #notLoggedIn>
  <div class="min-h-screen">
    <router-outlet></router-outlet>
  </div>
</ng-template>

<!-- show always -->
<app-footer></app-footer>
